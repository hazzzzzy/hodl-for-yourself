(function(){"use strict";var t={4684:function(t,e,a){var s=a(6848),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},r=[],n={name:"App",components:{}},o=n,l=a(1656),d=(0,l.A)(o,i,r,!1,null,null,null),c=d.exports,u=a(6178),m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("div",{staticClass:"cards"},[e("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.cards.bnLoading,expression:"cards.bnLoading"}],staticClass:"box-card",attrs:{shadow:"hover"}},[e("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[t._v("币安热钱包")]),e("div",{staticClass:"card-content"},[e("div",[t._v(" 持币比例为 "),e("span",{staticClass:"details-red"},[t._v(t._s(t.cards.bnBalancePercent)+" ")]),t._v("% ")]),e("div",[t._v(" 打款收益为 "),e("span",{staticClass:"details-green"},[t._v(t._s(t.cards.myRewardMultiplier)+" ")]),t._v("% ")])])]),e("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.cards.promiseLoading,expression:"cards.promiseLoading"}],staticClass:"box-card",attrs:{shadow:"hover"}},[e("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[t._v("燃烧约定")]),e("div",{staticClass:"card-content"},[e("div",[t._v(" 已销毁 "),e("span",{staticClass:"details-red"},[t._v(t._s(t.cards.destroyPercent)+" ")]),t._v("% ")]),e("div",[t._v(" 剩余 "),e("span",{staticClass:"details-green"},[t._v(t._s(t.cards.remainDays)+" ")]),t._v("天 ")])])])],1),e("el-card",{staticClass:"title-card",attrs:{shadow:"hover"}},[e("div",{staticClass:"title-card-1"},[t._v("约定每日燃烧量")]),e("div",{staticClass:"title-card-2"},[t._v("起始时间为当天与隔天的北京时间八点")]),e("div",{staticClass:"title-card-2"},[t._v("每小时更新一次，最后更新于"+t._s(t.updateTime))])]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.chartloading,expression:"chartloading"}],ref:"chart",staticClass:"line-bar"})],1)},h=[],p=a(4373);const v=p.A.create({baseURL:"http://118.195.188.240:5000/api",headers:{"Content-Type":"application/json"}});var f=v;const g=async()=>{const t=await f.get("/v1/drawLine");return t.data};var b=g;const y=async()=>{const t=await f.get("/v1/getCardPromise");return t.data};var w=y;const _=async()=>{const t=await f.get("/v1/bnHotWalletReward");return t.data};var x=_,C=a(2212),L=a(2305),T=a(4919),S=a(2297),O=a(623),P=a(9536),A=a(8304),k=a(7917),D=a(1611),N=a(4016),I=a(8933),E=a(3830),$=a(5),j=a(8970),M=a(2080),H=a(5095);C.Y([O.a,P.a,A.a,k.a,D.a,T.a,S.a,j._,M.i,H.a,N.a,I.a,E.a,$.a]);var R=L,F={name:"chart",data(){return{cards:{bnBalancePercent:"*",myRewardMultiplier:"*",remainDays:"*",destroyPercent:"*",promiseLoading:!1,bnLoading:!1},updateTime:"*月*日*时*分*秒",date:[],promise:[],getPoints:[],isShowLabel:!0,chartloading:!1,startPer:50}},mounted(){this.bn(),this.getCardPromise(),this.getLineData()},methods:{async drawLine(){const t=R.init(this.$refs.chart),e={title:{show:!1,subtext:"更新于"+this.updateTime,text:"约定每日燃烧量(UTC+8)",left:"middle",textAlign:"center"},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},grid:{top:70,bottom:70,left:50,right:50},dataZoom:[{type:"slider",realtime:!0,start:this.startPer,end:100,xAxisIndex:0}],toolbox:{feature:{restore:{show:!0},saveAsImage:{show:!0}}},legend:{left:"left",top:10,data:["当天燃烧数","燃烧1T分到的积分"],orient:"vertical",tooltip:{show:!0}},xAxis:[{type:"category",data:this.date,axisLabel:{}}],yAxis:[{type:"value",name:"",min:0,max:6e3,interval:3e3,axisLabel:{formatter:"{value} T"}},{type:"value",name:"",min:0,max:1e4,interval:5e3,axisLabel:{formatter:"{value}"}}],series:[{name:"当天燃烧数",type:"bar",tooltip:{valueFormatter:function(t){return t+" T"}},label:{show:!1,position:"top",formatter:"{c}"},data:this.promise,markLine:{silent:!0,symbol:[null,null],precision:0,label:{color:"#5470c6"},data:[{type:"average",name:"Avg"}]}},{name:"燃烧1T分到的积分",type:"line",yAxisIndex:1,tooltip:{valueFormatter:function(t){return t}},itemStyle:{color:"#e51212f5"},data:this.getPoints,markLine:{silent:!0,symbol:[null,null],precision:0,label:{show:!0,color:"#e51212f5"},data:[{type:"average",name:"Avg"}]}}]};t.setOption(e),t.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:this.date.length-1})},async getLineData(){let t=0;for(let a=0;a<5;a++)try{this.chartloading=!0;let t=await b();this.date=t.data.date,this.promise=t.data.promise,this.getPoints=t.data.getPoints,this.updateTime=t.data.updateTime,this.date.length>=10&&(this.startPer=Math.round(100*(1-10/this.date.length))),this.drawLine();break}catch(e){console.error(e),t+=1}finally{this.chartloading=!1}5===t&&this.undisappearNOTICE("图表数据请求超时，刷新页面")},async getCardPromise(){let t=0;for(let a=0;a<5;a++)try{this.cards.promiseLoading=!0;const t=await w();this.cards.remainDays=t.data.remainDays,this.cards.destroyPercent=t.data.destroyPercent;break}catch(e){t+=1,console.error(e)}finally{this.cards.promiseLoading=!1}5===t&&this.undisappearNOTICE("卡片数据请求超时，刷新页面")},async bn(){let t=0;for(let a=0;a<5;a++)try{this.cards.bnLoading=!0;const t=await x();this.cards.bnBalancePercent=t.data.bnBalancePercent,this.cards.myRewardMultiplier=t.data.myRewardMultiplier;break}catch(e){t+=1,console.error(e)}finally{this.cards.bnLoading=!1}5===t&&this.undisappearNOTICE("卡片数据请求超时，刷新页面")},NOTICE(t){this.$notify.error({title:"请求超时",message:t,duration:3e3})},undisappearNOTICE(t){this.$notify.error({title:"请求超时",message:t,duration:0})}}},z=F,B=(0,l.A)(z,m,h,!1,null,"10625d04",null),W=B.exports,U=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("div",{staticClass:"addressForm"},[e("el-form",{ref:"formData",attrs:{inline:!0,model:t.formData}},[e("el-form-item",{attrs:{prop:"address",rules:t.rules.address}},[e("el-input",{attrs:{placeholder:"输入需要查询积分的地址",disabled:t.tableLoading},model:{value:t.formData.address,callback:function(e){t.$set(t.formData,"address",e)},expression:"formData.address"}})],1),e("el-button",{attrs:{type:"primary",loading:t.tableLoading},on:{click:t.getTableData}},[t._v("提交")])],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"},{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticClass:"Sum"},[e("el-card",{staticStyle:{width:"100%",height:"100%"},attrs:{shadow:"hover"}},[e("div",{staticClass:"Sum-card"},[e("div",{staticClass:"left"},[e("div",{staticClass:"Sum-card-title"},[t._v("$promise总燃烧数")]),e("div",[t._v(" 约 "),e("span",{staticClass:"details-color"},[t._v(t._s(t.promiseSum))]),t._v(" T ")])]),e("div",{staticClass:"right"},[e("div",{staticClass:"Sum-card-title"},[t._v("总积分数")]),e("div",[t._v(" 约 "),e("span",{staticClass:"details-color"},[t._v(t._s(t.pointsSum))]),t._v(" 分 ")])])])])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"},{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticClass:"forTable"},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","default-sort":{prop:"date",order:"descending"}}},[e("el-table-column",{attrs:{prop:"date",label:"日期",sortable:"",align:"center"}}),e("el-table-column",{attrs:{prop:"promise",label:"promise(T)",sortable:"",align:"center"}}),e("el-table-column",{attrs:{prop:"dailyPoints",sortable:"",label:"当日积分",align:"center"}}),e("el-table-column",{attrs:{sortable:"",prop:"points",label:"当日总积分",align:"center"}})],1)],1)])},Z=[],q={data(){return{formData:{address:""},rules:{address:{required:!0,message:"填入正确格式的地址",type:"string",trigger:"blur",pattern:/^0x[a-fA-F0-9]{40}$/}},tableLoading:!1,isShow:!1,promiseSum:"****",pointsSum:"****",tableData:[]}},methods:{async getTableData(){const t=await this.test();if(!t)return!1;this.isShow=!0,this.tableLoading=!0,this.tipNOTICE();await f.post("/v1/calPoints",{address:this.formData.address}).then((t=>{if(0==t.data.data.length)return this.isShow=!1,this.NOTICE("未查询到该地址的相关信息"),!1;this.promiseSum=t.data.data.promiseSum,this.pointsSum=t.data.data.pointsSum,this.tableData=t.data.data.details})).catch((t=>{this.isShow=!1,console.error(t),this.NOTICE(t)})).finally((()=>{this.tableLoading=!1}))},NOTICE(t){this.$notify.error({title:"错误",message:t,duration:0})},tipNOTICE(){this.$notify.info({title:"提示",message:"计算较为繁杂，需等待30-150秒左右",duration:1e4})},async test(){let t=!1;return this.$refs.formData.validate((e=>{t=!!e})),t}}},Y=q,G=(0,l.A)(Y,U,Z,!1,null,"90e1fc32",null),J=G.exports,K=function(){var t=this,e=t._self._c;return e("div",[e("el-container",{staticStyle:{"min-height":"100vh"}},[e("el-header",[e("commonHeader")],1),e("el-main",{},[e("router-view")],1)],1)],1)},Q=[],V=function(){var t=this,e=t._self._c;return e("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"horizontal"},on:{select:t.jump}},[e("el-menu-item",{attrs:{index:"/",route:""}},[e("i",{staticClass:"el-icon-data-line"}),t._v("数据看板")]),e("el-menu-item",{attrs:{index:"/points"}},[e("i",{staticClass:"el-icon-search"}),t._v("查询积分总数")]),e("el-submenu",{attrs:{index:"external-law"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-link"}),t._v("友情链接")]),e("el-menu-item",{attrs:{index:"external-law"}},[e("a",{attrs:{href:"https://law.hodlmeme.io/home",target:"_blank"}},[e("i",{staticClass:"el-icon-link"}),t._v("LAW")])]),e("el-menu-item",{attrs:{index:"external-hodl"}},[e("a",{attrs:{href:"https://hodlmeme.io/#/",target:"_blank"}},[e("i",{staticClass:"el-icon-link"}),t._v("HODL")])]),e("el-menu-item",{attrs:{index:"external-zome"}},[e("a",{attrs:{href:"https://zooofmeme.com",target:"_blank"}},[e("i",{staticClass:"el-icon-link"}),t._v("ZOME")])]),e("el-menu-item",{attrs:{index:"external-zome"}},[e("a",{attrs:{href:"https://observerofhodl.notion.site/33b50826079f4b25b9da65bed512449c?v=7376c21979104657af645a3ff3bad10b",target:"_blank"}},[e("i",{staticClass:"el-icon-link"}),t._v("HODL详细文档")])])],2)],1)},X=[],tt=(a(4114),{name:"commonHeader",data(){return{}},methods:{jump(t){t.startsWith("external-")||this.$route.path!=t&&this.$router.push(t)}}}),et=tt,at=(0,l.A)(et,V,X,!1,null,null,null),st=at.exports,it={data(){return{}},components:{commonHeader:st}},rt=it,nt=(0,l.A)(rt,K,Q,!1,null,null,null),ot=nt.exports,lt=function(){var t=this,e=t._self._c;return e("h1",[t._v("404")])},dt=[],ct={data(){return{}}},ut=ct,mt=(0,l.A)(ut,lt,dt,!1,null,null,null),ht=mt.exports;s["default"].use(u.Ay);const pt=[{path:"/",component:ot,children:[{path:"",component:W},{path:"/points",component:J}]},{path:"*",component:ht}],vt=new u.Ay({routes:pt});var ft=vt,gt=a(9143),bt=a.n(gt);s["default"].use(bt()),s["default"].use(u.Ay),s["default"].config.productionTip=!1,new s["default"]({router:ft,render:t=>t(c)}).$mount("#app")}},e={};function a(s){var i=e[s];if(void 0!==i)return i.exports;var r=e[s]={id:s,loaded:!1,exports:{}};return t[s].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=t,function(){a.amdO={}}(),function(){var t=[];a.O=function(e,s,i,r){if(!s){var n=1/0;for(c=0;c<t.length;c++){s=t[c][0],i=t[c][1],r=t[c][2];for(var o=!0,l=0;l<s.length;l++)(!1&r||n>=r)&&Object.keys(a.O).every((function(t){return a.O[t](s[l])}))?s.splice(l--,1):(o=!1,r<n&&(n=r));if(o){t.splice(c--,1);var d=i();void 0!==d&&(e=d)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[s,i,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,r,n=s[0],o=s[1],l=s[2],d=0;if(n.some((function(e){return 0!==t[e]}))){for(i in o)a.o(o,i)&&(a.m[i]=o[i]);if(l)var c=l(a)}for(e&&e(s);d<n.length;d++)r=n[d],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(c)},s=self["webpackChunk_3"]=self["webpackChunk_3"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(4684)}));s=a.O(s)})();
//# sourceMappingURL=app.71f55fb0.js.map